/*
 * proj_main.c
 *
 *  Created on: 5 Oct 2024
 *      Author: farah
 */
#include<util/delay.h>
#include"lcd.h"
#include"led.h"
#include"buzzer.h"
#include"dc_motor.h"
#include"flame_sensor.h"
#include"lm35_sensor.h"
#include"ldr_sensor.h"
#include"adc.h"
#include "pwm.h"

void lcd_display(void)
{
	LCD_displayStringRowColumn(0,2,"FAN IS ON");

	LCD_displayStringRowColumn(1,0,"TEMP=   C");
	LCD_moveCursor(1,6);
	char temp = LM35_getTemperature();
	/* Display the temperature value every time at same position */
	LCD_moveCursor(1,6);
	if(temp >= 100)
	{
		LCD_intgerToString(temp);
	}
	else
	{
		LCD_intgerToString(temp);
		/* In case the digital value is two or one digits print space in the next digit place */
		LCD_displayCharacter(' ');
	}
	LCD_displayStringRowColumn(1,9,"LDR=");
	LCD_intgerToString(LDR_getLightIntensity());
}

int main(void)
{
	ADC_init();
	PWM_Timer0_Start(50);
	LCD_init();
	LEDS_init();
	DcMotor_Init();
	FlameSensor_init();
	Buzzer_init();
	lcd_display();
	while(1)
	{
		lcd_display();
	}
}
